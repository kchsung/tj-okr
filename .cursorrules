# name: OKR Mini Program Rules
# description: Streamlit 기반의 OKR 앱을 Cursor로 개발할 때 지켜야 할 규칙
# files: "**/*"
# language: Korean
rules:
  - 모든 비즈니스 로직은 `streamlit_app/services`에 구현한다. UI 코드(`streamlit_app/ui`)에서 API 키나 DB 접근 로직을 직접 호출하지 않는다.
  - 데이터 접근/쿼리는 `streamlit_app/db/repository.py`를 통해서만 수행한다. ORM은 SQLAlchemy를 사용한다.
  - 설정값(예: DB URL, OpenAI Key)은 `streamlit_app/config/settings.py`에서 읽는다. 코드에 하드코딩하지 않는다.
  - UI는 `components.py`에 컴포넌트를 나눠 작성하고, 스타일은 `styles.css`로 관리한다. Streamlit의 `st.markdown`을 통한 임베디드 CSS를 허용한다.
  - 타입힌트를 적극 활용한다. 함수/메서드는 간결하고 SRP(단일책임원칙)를 지킨다.
  - OpenAI 호출은 `services/ai_validator.py`의 단일 함수 `validate_okr(...)`를 사용한다. 모델명/파라미터는 설정에서 주입 가능하게 한다.
  - 테스트/로컬 실행 시 SQLite(파일 기반)를 사용하고, 배포 시 상용 DB로 교체 가능하도록 DB URL만 변경한다.
  - 커밋 전 `requirements.txt`/`pyproject.toml`을 동기화한다.
  - 한국어 주석을 허용하되, 함수/클래스 Docstring은 간단히라도 작성한다.
